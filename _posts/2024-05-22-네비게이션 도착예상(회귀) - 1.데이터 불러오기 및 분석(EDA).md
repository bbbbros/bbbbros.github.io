# ì•ˆë…•í•˜ì„¸ìš”^^ 
## AI í”„ë¡œì íŠ¸ ë”°ë¼í•˜ê¸° - ì›ë‚´ë¹„ ë„ì°©ì‹œê°„ ì˜ˆì¸¡ ëª¨ë¸ë§ ê³¼ì •ì— ì˜¤ì‹  ì—¬ëŸ¬ë¶„ì„ í™˜ì˜í•©ë‹ˆë‹¤.
* ë³¸ ê³¼ì •ì—ì„œëŠ” ì£¼ë³€ì—ì„œ ë§ˆì£¼í•  ìˆ˜ ìˆëŠ” ì—°ì†ì„±ì„ ê°€ì§€ëŠ” ìˆ˜ì¹˜ë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ìˆëŠ” íšŒê·€ë¬¸ì œë¥¼ ì˜ˆì œì½”ë“œë¥¼ í†µí•´ì„œ ê¸°ê³„í•™ìŠµ(ë¨¸ì‹ ëŸ¬ë‹ ë° ë”¥ëŸ¬ë‹)ì„ í™œìš©í•´ì„œ í•´ê²°í•  ê²ƒì…ë‹ˆë‹¤.
* ë„¤ë¹„ê²Œì´ì…˜ ì£¼í–‰ë°ì´í„°ë¥¼ ê°€ì§€ê³  ë„ì°©ì‹œê°„ ì •í™•ë„ë¥¼ ê°œì„ í•˜ëŠ” ê³¼ì •ì„ í†µí•´ ì‹¤ì „ AI ê³¼ì œ ìˆ˜í–‰ì— ìˆì–´ ìì‹ ê°ì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê¸°íšŒê°€ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.
* AIë¬¸ì œ í•´ê²° ê³¼ì • 'Aì—ì„œ Zê¹Œì§€', ì§€ê¸ˆë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤!

## ê¸°ë³¸ì „ì œ
[ê¸°ë³¸ ë°ì´í„°]
* í•™ìŠµë°ì´í„° : onenavi_train.csv(7ì›” 20ì¼ì—ì„œ 24ì¼ ì‚¬ì´ì˜ ìˆ˜ë„ê¶Œ 3~15km ì£¼í–‰ë°ì´í„°)
* í‰ê°€ë°ì´í„° : onenavi_evaluation.csv(7ì›” 27ì¼ì—ì„œ 31ì¼ ì‚¬ì´ì˜ ìˆ˜ë„ê¶Œ 3~15km ì£¼í–‰ë°ì´í„°)

[ì¶”ê°€ ë°ì´í„°]
* ì£¼ì†Œ(ì‹œêµ°êµ¬)ë°ì´í„° : onenavi_pnu.csv(ì£¼í–‰ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¶œë°œì§€ì˜ ì£¼ì†Œ ì •ë³´, key : RID)
* ì‹ í˜¸ë“±(ê°¯ìˆ˜)ë°ì´í„° : onenavi_signal.csv(ì£¼í–‰ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²½ë¡œì˜ ì‹ í˜¸ë“± ê°¯ìˆ˜, key : RID)
* ë‚ ì”¨ë°ì´í„° : onenavi_weather.csv(ì£¼í–‰ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•´ë‹¹ ì¼ìì˜ ìˆ˜ë„ê¶Œ ë‚ ì”¨ ì •ë³´, key : RID)

#### â€» ì°¸ê³  : PEP8(https://www.python.org/dev/peps/pep-0008/)ë¥¼ ì¤€ìˆ˜í•˜ë‚˜ êµìœ¡ìƒ í•„ìš” ì‹œ ìƒí™©ì— ë§ì¶° ì‹¤ìŠµí•  ì˜ˆì •ì…ë‹ˆë‹¤.

# ë³¸ê²©ì ì¸ ì‹¤ìŠµ ì „ Warming Up
* AIDUì—ì„œ ë°ì´í„°í”„ë ˆì„ ë¶ˆëŸ¬ì˜¤ê¸°
* ì‹œê°í™” íˆ´ ì‚¬ìš©ë°©ë²•

### ê°€. ë¼ì´ë¸ŒëŸ¬ë¦¬ Import


```python
# ë°ì´í„° í”„ë ˆì„ ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬
import pandas as pd
import numpy as np
```


```python
# pip install seaborn
```

    Collecting seaborn
      Downloading seaborn-0.11.2-py3-none-any.whl (292 kB)
         |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 292 kB 25.3 MB/s            
    [?25hRequirement already satisfied: matplotlib>=2.2 in /usr/local/lib/python3.6/dist-packages (from seaborn) (3.3.3)
    Requirement already satisfied: numpy>=1.15 in /usr/local/lib/python3.6/dist-packages (from seaborn) (1.19.5)
    Requirement already satisfied: pandas>=0.23 in /usr/local/lib/python3.6/dist-packages (from seaborn) (1.1.5)
    Requirement already satisfied: scipy>=1.0 in /usr/local/lib/python3.6/dist-packages (from seaborn) (1.5.4)
    Requirement already satisfied: python-dateutil>=2.1 in /usr/local/lib/python3.6/dist-packages (from matplotlib>=2.2->seaborn) (2.8.1)
    Requirement already satisfied: pillow>=6.2.0 in /usr/local/lib/python3.6/dist-packages (from matplotlib>=2.2->seaborn) (8.1.0)
    Requirement already satisfied: kiwisolver>=1.0.1 in /usr/local/lib/python3.6/dist-packages (from matplotlib>=2.2->seaborn) (1.3.1)
    Requirement already satisfied: cycler>=0.10 in /usr/local/lib/python3.6/dist-packages (from matplotlib>=2.2->seaborn) (0.10.0)
    Requirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in /usr/local/lib/python3.6/dist-packages (from matplotlib>=2.2->seaborn) (2.4.7)
    Requirement already satisfied: pytz>=2017.2 in /usr/local/lib/python3.6/dist-packages (from pandas>=0.23->seaborn) (2022.1)
    Requirement already satisfied: six in /usr/local/lib/python3.6/dist-packages (from cycler>=0.10->matplotlib>=2.2->seaborn) (1.15.0)
    Installing collected packages: seaborn
    Successfully installed seaborn-0.11.2
    [33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv[0m
    Note: you may need to restart the kernel to use updated packages.



```python
# ì‹œê°í™” ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬
import seaborn as sns
import matplotlib.pyplot as plt
```


```python
df = pd.read_csv("onenavi_train.csv", sep = "|")
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RID</th>
      <th>TIME_DEPARTUREDATE</th>
      <th>TIME_ARRIVEDATE</th>
      <th>A_DISTANCE</th>
      <th>ET</th>
      <th>ETA</th>
      <th>ETAA</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>router-84875df7fc-b5nxc-7-20255166-0</td>
      <td>2020-07-20 05:35:21.000</td>
      <td>2020-07-20 05:55:22.599</td>
      <td>12914.0</td>
      <td>1201.534058</td>
      <td>987.624634</td>
      <td>82.196974</td>
    </tr>
    <tr>
      <th>1</th>
      <td>router-84875df7fc-b5nxc-6-10888379-0</td>
      <td>2020-07-20 05:55:22.000</td>
      <td>2020-07-20 06:09:06.941</td>
      <td>7483.0</td>
      <td>823.817017</td>
      <td>855.933716</td>
      <td>96.101477</td>
    </tr>
    <tr>
      <th>2</th>
      <td>router-84875df7fc-cmkz9-7-45806143-0</td>
      <td>2020-07-20 00:13:46.000</td>
      <td>2020-07-20 00:22:32.909</td>
      <td>8087.0</td>
      <td>526.710999</td>
      <td>575.954529</td>
      <td>90.650750</td>
    </tr>
    <tr>
      <th>3</th>
      <td>router-84875df7fc-scxcj-7-47843617-0</td>
      <td>2020-07-20 00:13:43.000</td>
      <td>2020-07-20 00:28:42.729</td>
      <td>10528.0</td>
      <td>898.581970</td>
      <td>537.117004</td>
      <td>59.773846</td>
    </tr>
    <tr>
      <th>4</th>
      <td>router-84875df7fc-scxcj-3-20061505-0</td>
      <td>2020-07-20 00:01:57.000</td>
      <td>2020-07-20 00:17:58.169</td>
      <td>10636.0</td>
      <td>957.758972</td>
      <td>786.352539</td>
      <td>82.103385</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>55895</th>
      <td>router-84875df7fc-8n4sw-2-7745536-0</td>
      <td>2020-07-24 23:57:07.000</td>
      <td>2020-07-25 00:06:15.697</td>
      <td>4448.0</td>
      <td>544.301025</td>
      <td>550.907715</td>
      <td>98.786207</td>
    </tr>
    <tr>
      <th>55896</th>
      <td>router-84875df7fc-scxcj-1-6043477-0</td>
      <td>2020-07-24 23:57:26.000</td>
      <td>2020-07-25 00:07:15.291</td>
      <td>3106.0</td>
      <td>535.666992</td>
      <td>459.554443</td>
      <td>85.791070</td>
    </tr>
    <tr>
      <th>55897</th>
      <td>router-84875df7fc-b5nxc-6-13399736-0</td>
      <td>2020-07-24 23:57:46.000</td>
      <td>2020-07-25 00:07:56.841</td>
      <td>10325.0</td>
      <td>610.799988</td>
      <td>791.658936</td>
      <td>70.389825</td>
    </tr>
    <tr>
      <th>55898</th>
      <td>router-84875df7fc-cmkz9-7-56753908-0</td>
      <td>2020-07-24 23:58:03.000</td>
      <td>2020-07-25 00:12:42.402</td>
      <td>4458.0</td>
      <td>878.479004</td>
      <td>516.855774</td>
      <td>58.835302</td>
    </tr>
    <tr>
      <th>55899</th>
      <td>router-84875df7fc-scxcj-7-59508946-0</td>
      <td>2020-07-24 23:58:56.000</td>
      <td>2020-07-25 00:08:10.410</td>
      <td>3780.0</td>
      <td>553.580994</td>
      <td>693.482544</td>
      <td>74.727899</td>
    </tr>
  </tbody>
</table>
<p>55900 rows Ã— 7 columns</p>
</div>



### ë‚˜. Seabornì„ í™œìš©í•œ ë°ì´í„° ì‹œê°í™”
#### Seaborn ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë°ì´í„°ë¥¼ ì§ê´€ì ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë„ë¡ ë‹¤ì–‘í•œ ì§€ì›ì„ í•´ì£¼ê³  ìˆìŠµë‹ˆë‹¤.
#### ì—¬ê¸°ì„œëŠ” Seabornì´ ì œê³µí•˜ëŠ” í†µê³„ì°¨íŠ¸ ì¤‘ ëŒ€í‘œì ì¸ ëª‡ ê°€ì§€ë¥¼ í™œìš©í•´ë³´ê³ ì í•©ë‹ˆë‹¤.
[ì°¸ê³ ] ê³µì‹ Document
* Seaborn(https://seaborn.pydata.org/api.html)
* Seaborn.CountChart(https://seaborn.pydata.org/generated/seaborn.countplot.html)
* Seaborn.Distplot(https://seaborn.pydata.org/generated/seaborn.distplot.html?highlight=distplot#seaborn.distplot) : íˆìŠ¤í† ê·¸ë¨ + ì»¤ë„ë°€ë„
* Seaborn.Boxplot(https://seaborn.pydata.org/generated/seaborn.boxplot.html#seaborn.boxplot)
* Seaborn.Heatmap(https://seaborn.pydata.org/generated/seaborn.heatmap.html?highlight=heatmap#seaborn.heatmap)
* Seaborn.Pairplot(https://seaborn.pydata.org/generated/seaborn.pairplot.html?highlight=pairplot#seaborn.pairplot) : ì¡°í•©ë³„ íˆìŠ¤í† ê·¸ë¨ + ì‚°ì ë„

---

# 1. ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
## ëª¨ë“  AIí”„ë¡œì íŠ¸ì˜ ì‹œì‘ì€ 'ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°' ë¶€í„°ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
+ KeyPoint : ë¶ˆëŸ¬ì˜¤ê³ ì í•˜ëŠ” ë°ì´í„°ì— ë”°ë¼ ììœ ë¡­ê²Œ ë³€ìˆ˜ë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
+ [ì°¸ê³ ] AIDUì—ì„œëŠ” ë°˜ë“œì‹œ ì¶”ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ Importì™€ ì„¤ì •ì„ í•´ì•¼ë§Œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤.

### ê°€. ë°ì´í„° í”„ë ˆì„ì„ ë¶ˆëŸ¬ì˜¤ê³  ë³€ìˆ˜ë¡œ ì €ì¥(ì—¬ê¸°ì„œëŠ” CSV ê¸°ì¤€ìœ¼ë¡œ ì§„í–‰)
* csv : pd.read_csv("íŒŒì¼ì´ë¦„. csv")
* txt : pd.read_csv("íŒŒì¼ì´ë¦„. csv", sep="êµ¬ë¶„ì")
* xlsx : pd.read_excel('íŒŒì¼ì´ë¦„.xlsx')
* pickle : pd.read_pickle("íŒŒì¼ì´ë¦„.pkl") <br>
 [ì°¸ê³ ] pickleì€ íŒŒì´ì¬ì˜ ëª¨ë“  ê°ì²´ë¥¼ íŒŒì¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆëŠ” ë°©ë²•ìœ¼ë¡œ DataFrame,List,Dict ë“± ëª¨ë“  ê°ì²´ ì €ì¥ ê°€ëŠ¥(íŠ¹íˆ sklearnë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ëª¨ë¸ì„ í•™ìŠµì‹œí‚¤ê³ , ì €ì¥í•  ë•Œ ë§ì´ ì‚¬ìš©)

### ì‹¤ìŠµ1. <u>Pandas ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ì„œ 'onenavi_train.csv'íŒŒì¼ì„ 'df' ë³€ìˆ˜ì— ì €ì¥í•˜ê³  ê·¸ Shapeì„ í™•ì¸í•˜ì„¸ìš”.</u>


```python
# ì•„ë˜ì— ì‹¤ìŠµì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.(Hint : dataframe = pandas.read_csv("file"))
df = pd.read_csv('onenavi_train.csv',sep='|')
df.info()

```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 55900 entries, 0 to 55899
    Data columns (total 7 columns):
     #   Column              Non-Null Count  Dtype  
    ---  ------              --------------  -----  
     0   RID                 55900 non-null  object 
     1   TIME_DEPARTUREDATE  55900 non-null  object 
     2   TIME_ARRIVEDATE     55900 non-null  object 
     3   A_DISTANCE          55900 non-null  float64
     4   ET                  55900 non-null  float64
     5   ETA                 55900 non-null  float64
     6   ETAA                55900 non-null  float64
    dtypes: float64(4), object(3)
    memory usage: 3.0+ MB



```python
# ë°ì´í„° í”„ë ˆì„ì˜ Shapeì„ í™•ì¸í•©ë‹ˆë‹¤.(Hint : dataframe.shape)
df.shape


```




    (55900, 7)



### ë‚˜. í•™ìŠµë°ì´í„°ì™€ í‰ê°€ë°ì´í„° í•©ì¹˜ê¸°
#### í•™ìŠµë°ì´í„°(onenavi_train.csv)ëŠ” 7ì›” 20ì¼ì—ì„œ 24ì¼ê¹Œì§€ ìë£Œì…ë‹ˆë‹¤.
#### í‰ê°€ë°ì´í„°(onenavi_evaluation.csv)ëŠ” 7ì›” 27ì¼ì—ì„œ 31ì¼ê¹Œì§€ ìë£Œì…ë‹ˆë‹¤.

#### ë§Œì•½ì— Train/Evaluation ë°ì´í„°ë¥¼ ë”°ë¡œ ì „ì²˜ë¦¬ í•œë‹¤ë©´?
* ì „ì²˜ë¦¬ ê¸°ì¤€(íŠ¹íˆ ì •ê·œí™” ì‘ì—… ì‹œ)ì´ ë‹¬ë¼ì ¸ì„œ ëª¨ë¸ì˜ ì„±ëŠ¥ì— ì•…ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŒ

### ì‹¤ìŠµ2. <u>Pandas ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ì„œ 'onenavi_train.csv'íŒŒì¼ê³¼ 'onenavi_evaluation.csv'ë¥¼ 'df_total' ë³€ìˆ˜ì— ì €ì¥í•˜ê³  ê·¸ Shapeì„ í™•ì¸í•˜ì„¸ìš”.</u>


```python
# ì•„ë˜ì— ì‹¤ìŠµì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.(Hint : dataframe = pandas.concat([dataframe,dataframe]))
df1 = pd.read_csv('onenavi_evaluation.csv',sep='|')

df_total = pd.concat([df,df1],axis=0)
df_total.info()

```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 109642 entries, 0 to 53741
    Data columns (total 7 columns):
     #   Column              Non-Null Count   Dtype  
    ---  ------              --------------   -----  
     0   RID                 109642 non-null  object 
     1   TIME_DEPARTUREDATE  109642 non-null  object 
     2   TIME_ARRIVEDATE     109642 non-null  object 
     3   A_DISTANCE          109642 non-null  float64
     4   ET                  109642 non-null  float64
     5   ETA                 109642 non-null  float64
     6   ETAA                109642 non-null  float64
    dtypes: float64(4), object(3)
    memory usage: 6.7+ MB



```python
# ë°ì´í„° í”„ë ˆì„ì˜ Shapeì„ í™•ì¸í•©ë‹ˆë‹¤.(Hint : dataframe.shape)
df_total.shape




```




    (109642, 7)



# 2. ì¶”ê°€ë³€ìˆ˜ ìƒì„±
## ì£¼ì–´ì§„ ë°ì´í„°ë§Œ ê°€ì§€ê³  ëª¨ë¸ë§ì„ í•œë‹¤ë©´ ì„¸ìƒì„ ë„ˆë¬´ ë§Œë§Œí•˜ê²Œ ë³´ê³  ìˆëŠ” ê²ƒì…ë‹ˆë‹¤.
+ KeyPoint : ëª¨ë¸ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ë³€ìˆ˜ë¥¼ ê³ ë¯¼í•˜ê³  ê¸°ì¡´ ë°ì´í„°ì™€ Merge í•  ìˆ˜ ìˆë‹¤.

#### ì‚¬ì‹¤ ì¶”ê°€ë³€ìˆ˜ ìƒì„±ì€ ë°ì´í„° ì „ì²˜ë¦¬ ì˜ì—­ì˜ ë²”ìœ„ë¡œ ë³´ëŠ” ê²½ìš°ë„ ìˆìŠµë‹ˆë‹¤.
#### ë°ì´í„° ë¶„ì„ê³¼ ì „ì²˜ë¦¬ëŠ” 'ë‹­ì´ ë¨¼ì €ëƒ? ë‹¬ê±€ì´ ë¨¼ì €ëƒ?'ì™€ ê°™ì´ ìƒí˜¸ ì¸ê³¼ê´€ê³„ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
#### ë‹¤ë§Œ ì—¬ê¸°ì„œëŠ” êµìœ¡ì˜ ì›í™œí•œ ì§„í–‰ì„ ìœ„í•´ ë°ì´í„° ë¶„ì„ ì´ì „ì— ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.
#### ì£¼í–‰ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ìš”ì†ŒëŠ” ì–´ë–¤ ê²ƒì´ ìˆì„ê¹Œìš”? ì €ëŠ” ì¢Œí‘œì •ë³´ì™€ ê²½ë¡œì˜ ì‹ í˜¸ë“± ì—¬ë¶€ë¥¼ ìƒê°í•´ë´¤ìŠµë‹ˆë‹¤.
#### ê·¸ë ‡ë‹¤ë©´ ì–´ë–»ê²Œ ë³€ìˆ˜í™” í• ê¹Œìš”?
#### ì¢Œí‘œì •ë³´ëŠ” ì¶œë°œì§€ì˜ ì¢Œí‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‹œêµ°êµ¬ ë‹¨ìœ„ë¥¼ ì£¼ì†Œì •ë³´ë¡œ ì‹ í˜¸ë“± ì—¬ë¶€ëŠ” ê²½ë¡œ ìƒì˜ ì‹ í˜¸ë“± ê°¯ìˆ˜ë¥¼ ë³€ìˆ˜ë¡œ ë§Œë“¤ ìˆ˜ ìˆê² ë„¤ìš”.
#### Route IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¯¸ë¦¬ ë°ì´í„° í”„ë ˆì„ì„ ë§Œë“¤ì–´ ë‘ì—ˆìŠµë‹ˆë‹¤.

### ì‹¤ìŠµ3. <u>Pandas ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ì„œ ì§€ì—­ì •ë³´ì™€ ì‹ í˜¸ë“±ì •ë³´ë¥¼ 'df_total'ì™€ í•©ì³ë³´ì„¸ìš”.</u>


```python
# ì•„ë˜ì— ì‹¤ìŠµì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.(Hint : dataframe = pandas.merge(dataframe,dataframe, on='key'))
df_pnu = pd.read_csv('onenavi_pnu.csv',sep='|')
# df_pnu.info()
# df_pnu
df_sgl = pd.read_csv('onenavi_signal.csv',sep='|')
# df_sgl.info()
# df_sgl

df_total = pd.merge(df_total,df_pnu, on='RID')
#df_a.info()

df_total = pd.merge(df_total,df_sgl, on='RID')
df_total.info()

```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 109273 entries, 0 to 109272
    Data columns (total 10 columns):
     #   Column              Non-Null Count   Dtype  
    ---  ------              --------------   -----  
     0   RID                 109273 non-null  object 
     1   TIME_DEPARTUREDATE  109273 non-null  object 
     2   TIME_ARRIVEDATE     109273 non-null  object 
     3   A_DISTANCE          109273 non-null  float64
     4   ET                  109273 non-null  float64
     5   ETA                 109273 non-null  float64
     6   ETAA                109273 non-null  float64
     7   level1_pnu          109273 non-null  object 
     8   level2_pnu          109273 non-null  object 
     9   signaltype          109273 non-null  float64
    dtypes: float64(5), object(5)
    memory usage: 9.2+ MB


### ì‹¤ìŠµ4. <u>ë‚ ì”¨ ë°ì´í„°ë¥¼ ì¶”ê°€ë³€ìˆ˜ë¡œ ë§Œë“¤ì–´ë´…ì‹œë‹¤.</u>


```python
# ì•„ë˜ì— ì‹¤ìŠµì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ë‚ ì”¨ ë°ì´í„°ë¥¼ ì¶”ê°€ë³€ìˆ˜ë¡œ ë§Œë“¤ì–´ë´…ì‹œë‹¤.(Hint : onenavi_weather.csv)
# ë‹¤ë§Œ ì´í›„ ì‹¤ìŠµì—ì„œëŠ” ë‚ ì”¨ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ì˜ˆì •ì´ë‹ˆ ì¶”ê°€í•œ ë°ì´í„° í”„ë ˆì„ì€ df_total_tempë¡œ ì €ì¥í•´ì£¼ì„¸ìš”.

df_w = pd.read_csv('onenavi_weather.csv',sep='|')
df_w

df_total_temp = pd.merge(df_total, df_w, on='RID')

df_total_temp

```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RID</th>
      <th>TIME_DEPARTUREDATE</th>
      <th>TIME_ARRIVEDATE</th>
      <th>A_DISTANCE</th>
      <th>ET</th>
      <th>ETA</th>
      <th>ETAA</th>
      <th>level1_pnu</th>
      <th>level2_pnu</th>
      <th>signaltype</th>
      <th>temp</th>
      <th>precipitation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>router-84875df7fc-b5nxc-7-20255166-0</td>
      <td>2020-07-20 05:35:21.000</td>
      <td>2020-07-20 05:55:22.599</td>
      <td>12914.0</td>
      <td>1201.534058</td>
      <td>987.624634</td>
      <td>82.196974</td>
      <td>ê²½ê¸°ë„</td>
      <td>ê´‘ëª…ì‹œ</td>
      <td>7.0</td>
      <td>23.8</td>
      <td>3.6</td>
    </tr>
    <tr>
      <th>1</th>
      <td>router-84875df7fc-b5nxc-6-10888379-0</td>
      <td>2020-07-20 05:55:22.000</td>
      <td>2020-07-20 06:09:06.941</td>
      <td>7483.0</td>
      <td>823.817017</td>
      <td>855.933716</td>
      <td>96.101477</td>
      <td>ì„œìš¸íŠ¹ë³„ì‹œ</td>
      <td>ì˜ë“±í¬êµ¬</td>
      <td>31.0</td>
      <td>23.8</td>
      <td>3.6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>router-84875df7fc-cmkz9-7-45806143-0</td>
      <td>2020-07-20 00:13:46.000</td>
      <td>2020-07-20 00:22:32.909</td>
      <td>8087.0</td>
      <td>526.710999</td>
      <td>575.954529</td>
      <td>90.650750</td>
      <td>ê²½ê¸°ë„</td>
      <td>ê¹€í¬ì‹œ</td>
      <td>6.0</td>
      <td>23.8</td>
      <td>3.6</td>
    </tr>
    <tr>
      <th>3</th>
      <td>router-84875df7fc-scxcj-7-47843617-0</td>
      <td>2020-07-20 00:13:43.000</td>
      <td>2020-07-20 00:28:42.729</td>
      <td>10528.0</td>
      <td>898.581970</td>
      <td>537.117004</td>
      <td>59.773846</td>
      <td>ê²½ê¸°ë„</td>
      <td>ê´‘ì£¼ì‹œ</td>
      <td>2.0</td>
      <td>23.8</td>
      <td>3.6</td>
    </tr>
    <tr>
      <th>4</th>
      <td>router-84875df7fc-scxcj-3-20061505-0</td>
      <td>2020-07-20 00:01:57.000</td>
      <td>2020-07-20 00:17:58.169</td>
      <td>10636.0</td>
      <td>957.758972</td>
      <td>786.352539</td>
      <td>82.103385</td>
      <td>ê²½ê¸°ë„</td>
      <td>ì•ˆì‚°ì‹œ ìƒë¡êµ¬</td>
      <td>28.0</td>
      <td>23.8</td>
      <td>3.6</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>109264</th>
      <td>router-84875df7fc-b5nxc-0-6856031-0</td>
      <td>2020-07-31 11:09:24.000</td>
      <td>2020-07-31 11:15:59.833</td>
      <td>4457.0</td>
      <td>393.873993</td>
      <td>633.093689</td>
      <td>39.264917</td>
      <td>ê²½ê¸°ë„</td>
      <td>ìš©ì¸ì‹œ ì²˜ì¸êµ¬</td>
      <td>21.0</td>
      <td>26.2</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>109265</th>
      <td>router-84875df7fc-cmkz9-7-71080475-0</td>
      <td>2020-07-31 11:09:25.000</td>
      <td>2020-07-31 11:17:26.427</td>
      <td>5518.0</td>
      <td>478.945007</td>
      <td>377.083557</td>
      <td>78.732120</td>
      <td>ì„œìš¸íŠ¹ë³„ì‹œ</td>
      <td>ê´‘ì§„êµ¬</td>
      <td>0.0</td>
      <td>26.2</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>109266</th>
      <td>router-84875df7fc-cmkz9-7-71082304-0</td>
      <td>2020-07-31 11:10:04.000</td>
      <td>2020-07-31 11:14:01.092</td>
      <td>4025.0</td>
      <td>223.481995</td>
      <td>412.308411</td>
      <td>15.507101</td>
      <td>ê²½ê¸°ë„</td>
      <td>ì—°ì²œêµ°</td>
      <td>2.0</td>
      <td>26.2</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>109267</th>
      <td>router-84875df7fc-b5nxc-4-75603454-0</td>
      <td>2020-07-31 11:11:46.000</td>
      <td>2020-07-31 11:17:47.095</td>
      <td>3372.0</td>
      <td>360.329010</td>
      <td>580.275146</td>
      <td>38.959637</td>
      <td>ê²½ê¸°ë„</td>
      <td>ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬</td>
      <td>10.0</td>
      <td>26.2</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>109268</th>
      <td>router-84875df7fc-cmkz9-4-33283055-0</td>
      <td>2020-07-31 11:11:16.000</td>
      <td>2020-07-31 11:16:47.495</td>
      <td>3659.0</td>
      <td>330.881989</td>
      <td>365.540833</td>
      <td>89.525316</td>
      <td>ê²½ê¸°ë„</td>
      <td>íŒŒì£¼ì‹œ</td>
      <td>1.0</td>
      <td>26.2</td>
      <td>1.5</td>
    </tr>
  </tbody>
</table>
<p>109269 rows Ã— 12 columns</p>
</div>



# 3. ë°ì´í„° ë¶„ì„í•˜ê¸°
## ìµœì ì˜ ëª¨ë¸ì„ ë§Œë“¤ê¸°ìœ„í•´ ë°ì´í„°ë¥¼ ì…ì²´ì ìœ¼ë¡œ ë°”ë¼ë³´ëŠ” ì‹œë„ëŠ” ì¤‘ìš”í•©ë‹ˆë‹¤.
+ KeyPoint : ë°ì´í„°ì˜ í˜•íƒœë¥¼ ì‚´í´ë³´ê³  ë‹¤ì–‘í•œ ë¶„ì„ê¸°ë²•ì„ í†µí•´ ëª¨ë¸ë§ì— ì í•©í•˜ë„ë¡ ì •ì œìš”ì†Œë¥¼ ì„ ë³„í•  ìˆ˜ ìˆë‹¤.
  * ê´€ì¸¡ì¹˜ë“¤ì˜ íŒ¨í„´ íƒìƒ‰
  * ì˜ëª»ëœ ìë£Œë“¤ì„ íƒìƒ‰
  * ë³€ìˆ˜ë“¤ê°„ì˜ ê´€ê³„ íŒŒì•…

### ì‹¤ìŠµ5. <u>ë³€ìˆ˜ df_totalë¥¼ í† ëŒ€ë¡œ ê°œì¸ì´ ì›í•˜ëŠ” ì°¨íŠ¸ë¥¼ êµ¬ì„±í•´ë³´ê³  ë‚˜ë¦„ì˜ ë¶„ì„ì„ í•´ë³´ì„¸ìš”.</u>


```python
# ì•„ë˜ì— ì‹¤ìŠµì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì°¨íŠ¸ë¥¼ êµ¬ì„±í•´ë´…ë‹ˆë‹¤.
df_total.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 109273 entries, 0 to 109272
    Data columns (total 10 columns):
     #   Column              Non-Null Count   Dtype  
    ---  ------              --------------   -----  
     0   RID                 109273 non-null  object 
     1   TIME_DEPARTUREDATE  109273 non-null  object 
     2   TIME_ARRIVEDATE     109273 non-null  object 
     3   A_DISTANCE          109273 non-null  float64
     4   ET                  109273 non-null  float64
     5   ETA                 109273 non-null  float64
     6   ETAA                109273 non-null  float64
     7   level1_pnu          109273 non-null  object 
     8   level2_pnu          109273 non-null  object 
     9   signaltype          109273 non-null  float64
    dtypes: float64(5), object(5)
    memory usage: 9.2+ MB



```python
# ì„¤ì¹˜ëœ í°íŠ¸ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
import matplotlib.font_manager as fm

fm.get_fontconfig_fonts()

font_list = [font.name for font in fm.fontManager.ttflist]
font_list
sns.set(font="NanumGothicCoding", 
        rc={"axes.unicode_minus":False}, # ë§ˆì´ë„ˆìŠ¤ ë¶€í˜¸ ê¹¨ì§ í˜„ìƒ í•´ê²°
        style='darkgrid')

```


```python
# 1. CountChart
ax = sns.countplot(x=df_total['level1_pnu'], palette = "RdBu")
df_total['level1_pnu'].value_counts()
```




    ê²½ê¸°ë„      66392
    ì„œìš¸íŠ¹ë³„ì‹œ    42458
    ì¸ì²œê´‘ì—­ì‹œ      329
    -           90
    ê°•ì›ë„          2
    ì¶©ì²­ë‚¨ë„         1
    ì¶©ì²­ë¶ë„         1
    Name: level1_pnu, dtype: int64



   
![output_31_1](https://github.com/bbbbros/bbbbros.github.io/assets/161530952/9bcc8aaa-efc2-4866-9fef-270d154a5eb7)
    



```python
# 2. DistChart
x = df_total['signaltype']
sns.distplot(x)
plt.show()

df_total.describe()
```

    /usr/local/lib/python3.6/dist-packages/seaborn/distributions.py:2619: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
      warnings.warn(msg, FutureWarning)



    
![output_32_1](https://github.com/bbbbros/bbbbros.github.io/assets/161530952/86da18a7-0a84-45ca-9b49-2e8b30b5d861)





<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A_DISTANCE</th>
      <th>ET</th>
      <th>ETA</th>
      <th>ETAA</th>
      <th>signaltype</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>109273.000000</td>
      <td>109273.000000</td>
      <td>109273.000000</td>
      <td>109273.000000</td>
      <td>109273.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>7087.934568</td>
      <td>969.817748</td>
      <td>891.851363</td>
      <td>81.426653</td>
      <td>19.118199</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3269.369555</td>
      <td>505.568135</td>
      <td>410.962020</td>
      <td>15.563965</td>
      <td>13.879166</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3000.000000</td>
      <td>120.852997</td>
      <td>81.044357</td>
      <td>0.033126</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>4307.000000</td>
      <td>600.578979</td>
      <td>593.869812</td>
      <td>73.771342</td>
      <td>9.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>6230.000000</td>
      <td>883.408997</td>
      <td>810.318909</td>
      <td>85.106364</td>
      <td>17.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>9366.000000</td>
      <td>1200.715942</td>
      <td>1109.988647</td>
      <td>93.263330</td>
      <td>27.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>15000.000000</td>
      <td>8817.842773</td>
      <td>4264.188965</td>
      <td>99.999899</td>
      <td>108.000000</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 3. BocPlot 
# A_DISTANCE
df_total.boxplot(by="level1_pnu", column="A_DISTANCE", figsize=(16,8)) # dfì´ìš©
plt.show()

sns.boxplot(x=df_total['level1_pnu'], y=df_total['A_DISTANCE'], data = df_total)
plt.show()


```

![output_33_0](https://github.com/bbbbros/bbbbros.github.io/assets/161530952/c396e16a-c386-48ac-9d7c-c5f4de4d46d4)

    

![output_33_1](https://github.com/bbbbros/bbbbros.github.io/assets/161530952/b4bbf199-ca8c-438a-8dbd-be7797b54df8)
    
    



```python
# 4. BocPlot 
# ET
df_total.boxplot(by="level1_pnu", column="ET", figsize=(16,8)) # dfì´ìš©
plt.show()

sns.boxplot(x=df_total['level1_pnu'], y=df_total['ET'], data = df_total)
plt.show()
```


    
![output_34_0](https://github.com/bbbbros/bbbbros.github.io/assets/161530952/7e152c87-2e63-4a3d-a4f2-6c98f22843a1)



    
![output_34_1](https://github.com/bbbbros/bbbbros.github.io/assets/161530952/8fcc031a-bcd0-42f3-b5d2-5afac9d1e128)



```python
#íˆíŠ¸ë§µ ë¶„ì„
print(df_total.corr())
sns.heatmap(df_total.corr(),annot=True)
plt.show()
```

                A_DISTANCE        ET       ETA      ETAA  signaltype
    A_DISTANCE    1.000000  0.531619  0.637841  0.172492    0.232966
    ET            0.531619  1.000000  0.843409  0.001366    0.534659
    ETA           0.637841  0.843409  1.000000  0.109389    0.608437
    ETAA          0.172492  0.001366  0.109389  1.000000    0.094363
    signaltype    0.232966  0.534659  0.608437  0.094363    1.000000



![output_35_1](https://github.com/bbbbros/bbbbros.github.io/assets/161530952/f9e90628-c886-4627-a273-e4672b1aa8d4)
    



```python
sns.pairplot(df_total)
plt.show()
```


![output_36_0](https://github.com/bbbbros/bbbbros.github.io/assets/161530952/5ab39fbd-e455-41e3-9938-543750a1964c)
    



```python
# ì•„ë˜ì— ì°¨íŠ¸ë¥¼ í†µí•´ ì•Œê²Œëœ ì‚¬ì‹¤ì„ ì •ë¦¬í•´ë´…ì‹œë‹¤.
# 1. Level1 pnu ê°’ì´ - ì¸ ì• ë“¤ì´ ìˆë‹¤., ì„œìš¸ê²½ê¸° ì™¸ ë‹¤ë¥¸ì§€ì—­ì´ ìˆë‹¤
# 2.ì‹ í˜¸ë“±ì€ í‰ê·  19ê°œ
# 3.ETì˜ ê²½ìš° ì´ìƒì¹˜ê°€ ê½¤ ìˆìŒ



# objectëŠ” ê°’ë³„ ê°œìˆ˜ í™•ì¸ (seabornì˜ countchartë‚˜ value_countsí™œìš©
#

```

### ë‹¤. ìƒê´€ê´€ê³„ ë¶„ì„(Pandas/Seaborn)
#### ìƒê´€ê´€ê³„ ë¶„ì„ì€ ì™œ í•˜ëŠ”ê²ƒì¼ê¹Œìš”?
##### ë§‰ì—°í•˜ê²Œ ìƒê´€ê´€ê³„ëŠ” ë†’ìœ¼ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ AIëª¨ë¸ë§ì„ í• ë•Œ ê¼­ ì¢‹ì€ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. ê°€ë ¹ ì‚´ì•„ì˜¨ ë‚ ìˆ˜ì™€ ì‹ì‚¬ë¥¼ í•œ ë¼ë‹ˆ ìˆ˜ëŠ” ê°•í•œ ìƒê´€ê´€ê³„ë¥¼ ê°€ì§ˆ ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì¡°ê¸ˆë§Œ ë‹¤ë¥´ê²Œ ë³´ë©´ ë‘˜ì€ ê°™ì€ ì´ì•¼ê¸°ë¥¼ í•˜ëŠ” ê²ƒì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.(ë‹¤ì¤‘ê³µì„ ì„±ì˜ ë¬¸ì œ)
##### ìƒê´€ê´€ê³„ ê³„ìˆ˜ë§Œìœ¼ë¡œ ì–´ë–¤ ê²°ì •ì„ í•œë‹¤ëŠ” ê²ƒì€ ì„£ë¶€ë¥¸ ì¼ì…ë‹ˆë‹¤. ì–´ë–¤ ë³€ìˆ˜ì¸ì§€ í™•ì¸ì´ ë°˜ë“œì‹œ í•„ìš”í•˜ë©°, ì‹œê°í™”ë¥¼ í†µí•´ ë¶„í¬ë„ í™•ì¸í•˜ê³  ê²°ì •ì„ í•´ì•¼í•©ë‹ˆë‹¤.
[ë‹¤ì¤‘ê³µì„ ì„± í•´ê²° Tip]
* ìƒê´€ê´€ê³„ê°€ ë†’ì€ ë…ë¦½ë³€ìˆ˜ì¤‘ í•˜ë‚˜ í˜¹ì€ ì¼ë¶€ë¥¼ ì œê±°
* ë³€ìˆ˜ë¥¼ ë³€í˜•ì‹œí‚¤ê±°ë‚˜ ìƒˆë¡œìš´ ê´€ì¸¡ì¹˜ë¥¼ ì´ìš©
* ê¸°íƒ€ ë‹¤ë¥¸ ë¶„ì„ì„ ì´ìš©

### ì‹¤ìŠµ6. <u>ë³€ìˆ˜ df_totalë¥¼ í† ëŒ€ë¡œ ìƒê´€ê³„ìˆ˜ë¥¼ êµ¬í•˜ê³  ì‹œê°í™” í›„ ë‚˜ë¦„ì˜ ë¶„ì„ì„ í•´ë³´ì„¸ìš”.</u>


```python
# ì•„ë˜ì— ì‹¤ìŠµì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ìƒê´€ê³„ìˆ˜ë¥¼ í™•ì¸ ë° ì‹œê°í™” í•©ë‹ˆë‹¤.
# Hint!
## ìƒê´€ê³„ìˆ˜ ê³„ì‚° : dataframe.corr()
print(df_total.corr())
## ì‹œê°í™” : seaborn.heatmap(dataframe.corr(), annot=True)
sns.heatmap(df_total.corr(), annot=True)



```

                A_DISTANCE        ET       ETA      ETAA  signaltype
    A_DISTANCE    1.000000  0.531619  0.637841  0.172492    0.232966
    ET            0.531619  1.000000  0.843409  0.001366    0.534659
    ETA           0.637841  0.843409  1.000000  0.109389    0.608437
    ETAA          0.172492  0.001366  0.109389  1.000000    0.094363
    signaltype    0.232966  0.534659  0.608437  0.094363    1.000000





    <AxesSubplot:>



![output_40_2](https://github.com/bbbbros/bbbbros.github.io/assets/161530952/c2bb5277-0d8e-497b-bd54-0edd33a32354)



```python
# ì•„ë˜ì— ì°¨íŠ¸ë¥¼ í†µí•´ ì•Œê²Œëœ ì‚¬ì‹¤ì„ ì •ë¦¬í•´ë´…ì‹œë‹¤.
# 4. ì‹œê°„ê³¼ ê±°ë¦¬ê°„ì˜ ì–‘ì˜ ìƒê´€ê´€ê³„ ìˆìŒ 
# ETì™€ ETAëŠ” ì–‘ì˜ ìƒê´€ê´€ê³„ê°€ ë†’ë‹¤
# ETAAëŠ” ì‹ í˜¸, ET, ETAì™€ ìŒì˜ ìƒê´€ê´€ê³„ê°€ ìˆìŒ
# ì¢…ì†ë³€ìˆ˜ yëŠ” ETë‹¤. (ETì— ì œì¼ ê´€ì—¬í•­ í”¼ì²˜ëŠ” ETAì´ë‹¤)







```
