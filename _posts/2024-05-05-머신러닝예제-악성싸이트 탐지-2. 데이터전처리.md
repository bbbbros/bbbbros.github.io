```python
import pandas as pd
import numpy as np

from aicentro.session import Session
sacp_session = Session(verify=False)
from aicentro.framework.framework import BaseFramework as SacpFrm
sacp_framework = SacpFrm(session=sacp_session)
```

## <b>학습데이터 불러오기</b>
---


```python
df = pd.read_csv('TrainData.csv',delimiter=',')
```


```python
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>url_len</th>
      <th>url_num_hyphens_dom</th>
      <th>url_num_dom_token</th>
      <th>url_path_len</th>
      <th>url_filename_len</th>
      <th>url_longest_dom_token_len</th>
      <th>url_average_dom_token_len</th>
      <th>url_tld</th>
      <th>url_domain_len</th>
      <th>url_hostname_len</th>
      <th>...</th>
      <th>html_num_tags('form')</th>
      <th>html_num_tags('a')</th>
      <th>html_num_tags('small')</th>
      <th>html_num_tags('span')</th>
      <th>html_num_tags('input')</th>
      <th>html_num_tags('applet')</th>
      <th>html_num_tags('img')</th>
      <th>html_num_tags('video')</th>
      <th>html_num_tags('audio')</th>
      <th>Result_v1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>15</td>
      <td>0</td>
      <td>4.0</td>
      <td>0.0</td>
      <td>0</td>
      <td>3</td>
      <td>3.000000</td>
      <td>0</td>
      <td>15.0</td>
      <td>15</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>benign</td>
    </tr>
    <tr>
      <th>1</th>
      <td>96</td>
      <td>0</td>
      <td>3.0</td>
      <td>82.0</td>
      <td>68</td>
      <td>6</td>
      <td>4.000000</td>
      <td>1</td>
      <td>14.0</td>
      <td>14</td>
      <td>...</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>benign</td>
    </tr>
    <tr>
      <th>2</th>
      <td>12</td>
      <td>0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>0</td>
      <td>5</td>
      <td>3.333333</td>
      <td>0</td>
      <td>12.0</td>
      <td>12</td>
      <td>...</td>
      <td>1</td>
      <td>62</td>
      <td>0</td>
      <td>47</td>
      <td>1</td>
      <td>0</td>
      <td>81</td>
      <td>1</td>
      <td>0</td>
      <td>benign</td>
    </tr>
    <tr>
      <th>3</th>
      <td>35</td>
      <td>0</td>
      <td>3.0</td>
      <td>18.0</td>
      <td>10</td>
      <td>7</td>
      <td>5.000000</td>
      <td>1</td>
      <td>17.0</td>
      <td>17</td>
      <td>...</td>
      <td>0</td>
      <td>48</td>
      <td>0</td>
      <td>76</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>benign</td>
    </tr>
    <tr>
      <th>4</th>
      <td>38</td>
      <td>0</td>
      <td>3.0</td>
      <td>17.0</td>
      <td>16</td>
      <td>12</td>
      <td>6.333333</td>
      <td>1</td>
      <td>21.0</td>
      <td>21</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>benign</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>6103</th>
      <td>37</td>
      <td>0</td>
      <td>3.0</td>
      <td>24.0</td>
      <td>12</td>
      <td>6</td>
      <td>3.666667</td>
      <td>1</td>
      <td>13.0</td>
      <td>13</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>benign</td>
    </tr>
    <tr>
      <th>6104</th>
      <td>37</td>
      <td>0</td>
      <td>3.0</td>
      <td>24.0</td>
      <td>12</td>
      <td>6</td>
      <td>3.666667</td>
      <td>1</td>
      <td>13.0</td>
      <td>13</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>benign</td>
    </tr>
    <tr>
      <th>6105</th>
      <td>37</td>
      <td>0</td>
      <td>3.0</td>
      <td>24.0</td>
      <td>12</td>
      <td>6</td>
      <td>3.666667</td>
      <td>1</td>
      <td>13.0</td>
      <td>13</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>benign</td>
    </tr>
    <tr>
      <th>6106</th>
      <td>37</td>
      <td>0</td>
      <td>3.0</td>
      <td>24.0</td>
      <td>12</td>
      <td>6</td>
      <td>3.666667</td>
      <td>1</td>
      <td>13.0</td>
      <td>13</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>benign</td>
    </tr>
    <tr>
      <th>6107</th>
      <td>37</td>
      <td>0</td>
      <td>3.0</td>
      <td>24.0</td>
      <td>12</td>
      <td>6</td>
      <td>3.666667</td>
      <td>1</td>
      <td>13.0</td>
      <td>13</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>benign</td>
    </tr>
  </tbody>
</table>
<p>6108 rows × 44 columns</p>
</div>




```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 6108 entries, 0 to 6107
    Data columns (total 44 columns):
     #   Column                     Non-Null Count  Dtype  
    ---  ------                     --------------  -----  
     0   url_len                    6108 non-null   int64  
     1   url_num_hyphens_dom        6108 non-null   int64  
     2   url_num_dom_token          6105 non-null   float64
     3   url_path_len               6107 non-null   float64
     4   url_filename_len           6108 non-null   int64  
     5   url_longest_dom_token_len  6108 non-null   int64  
     6   url_average_dom_token_len  6108 non-null   float64
     7   url_tld                    6108 non-null   int64  
     8   url_domain_len             6105 non-null   float64
     9   url_hostname_len           6108 non-null   int64  
     10  url_num_dots               6108 non-null   int64  
     11  url_num_underscores        6107 non-null   float64
     12  url_num_equals             6107 non-null   float64
     13  url_num_slashes            6107 non-null   float64
     14  url_num_dash               6108 non-null   int64  
     15  url_num_semicolon          6108 non-null   int64  
     16  url_num_at                 6108 non-null   int64  
     17  url_num_percent            6108 non-null   int64  
     18  url_num_plus               6108 non-null   int64  
     19  url_query_len              6108 non-null   int64  
     20  url_num_query_para         6108 non-null   int64  
     21  url_ip_present             6108 non-null   int64  
     22  url_entropy                6108 non-null   float64
     23  url_count_consonants       6108 non-null   int64  
     24  url_num_digits             6108 non-null   int64  
     25  url_chinese_present        6108 non-null   int64  
     26  url_port                   6108 non-null   int64  
     27  html_num_tags('iframe')    6108 non-null   int64  
     28  html_num_tags('script')    6108 non-null   int64  
     29  html_num_tags('embed')     6108 non-null   int64  
     30  html_num_tags('object')    6108 non-null   int64  
     31  html_num_tags('div')       6108 non-null   int64  
     32  html_num_tags('head')      6108 non-null   int64  
     33  html_num_tags('body')      6108 non-null   int64  
     34  html_num_tags('form')      6108 non-null   int64  
     35  html_num_tags('a')         6108 non-null   int64  
     36  html_num_tags('small')     6108 non-null   int64  
     37  html_num_tags('span')      6108 non-null   int64  
     38  html_num_tags('input')     6108 non-null   int64  
     39  html_num_tags('applet')    6108 non-null   int64  
     40  html_num_tags('img')       6108 non-null   int64  
     41  html_num_tags('video')     6108 non-null   int64  
     42  html_num_tags('audio')     6108 non-null   int64  
     43  Result_v1                  6108 non-null   object 
    dtypes: float64(8), int64(35), object(1)
    memory usage: 2.1+ MB



```python
df.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>url_len</th>
      <th>url_num_hyphens_dom</th>
      <th>url_num_dom_token</th>
      <th>url_path_len</th>
      <th>url_filename_len</th>
      <th>url_longest_dom_token_len</th>
      <th>url_average_dom_token_len</th>
      <th>url_tld</th>
      <th>url_domain_len</th>
      <th>url_hostname_len</th>
      <th>...</th>
      <th>html_num_tags('body')</th>
      <th>html_num_tags('form')</th>
      <th>html_num_tags('a')</th>
      <th>html_num_tags('small')</th>
      <th>html_num_tags('span')</th>
      <th>html_num_tags('input')</th>
      <th>html_num_tags('applet')</th>
      <th>html_num_tags('img')</th>
      <th>html_num_tags('video')</th>
      <th>html_num_tags('audio')</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>6108.000000</td>
      <td>6108.000000</td>
      <td>6105.000000</td>
      <td>6107.000000</td>
      <td>6108.000000</td>
      <td>6108.000000</td>
      <td>6108.000000</td>
      <td>6108.000000</td>
      <td>6105.000000</td>
      <td>6108.000000</td>
      <td>...</td>
      <td>6108.000000</td>
      <td>6108.000000</td>
      <td>6108.000000</td>
      <td>6108.000000</td>
      <td>6108.000000</td>
      <td>6108.000000</td>
      <td>6108.0</td>
      <td>6108.000000</td>
      <td>6108.000000</td>
      <td>6108.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>53.709070</td>
      <td>0.413720</td>
      <td>2.862408</td>
      <td>28.479941</td>
      <td>15.638507</td>
      <td>12.198428</td>
      <td>6.813073</td>
      <td>0.901441</td>
      <td>20.353317</td>
      <td>20.305501</td>
      <td>...</td>
      <td>1.016699</td>
      <td>1.019810</td>
      <td>65.520138</td>
      <td>0.142436</td>
      <td>25.166667</td>
      <td>5.577112</td>
      <td>0.0</td>
      <td>13.848396</td>
      <td>0.014571</td>
      <td>0.022430</td>
    </tr>
    <tr>
      <th>std</th>
      <td>82.141842</td>
      <td>0.830238</td>
      <td>0.769080</td>
      <td>76.689496</td>
      <td>69.214863</td>
      <td>7.638118</td>
      <td>3.442360</td>
      <td>0.298094</td>
      <td>9.287801</td>
      <td>9.313965</td>
      <td>...</td>
      <td>0.226136</td>
      <td>1.456458</td>
      <td>333.460714</td>
      <td>2.253323</td>
      <td>241.011547</td>
      <td>10.290290</td>
      <td>0.0</td>
      <td>51.091158</td>
      <td>0.146853</td>
      <td>0.369973</td>
    </tr>
    <tr>
      <th>min</th>
      <td>5.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>1.500000</td>
      <td>0.000000</td>
      <td>4.000000</td>
      <td>4.000000</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>24.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>7.000000</td>
      <td>4.333333</td>
      <td>1.000000</td>
      <td>14.000000</td>
      <td>14.000000</td>
      <td>...</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>36.000000</td>
      <td>0.000000</td>
      <td>3.000000</td>
      <td>12.000000</td>
      <td>6.000000</td>
      <td>10.000000</td>
      <td>6.000000</td>
      <td>1.000000</td>
      <td>17.000000</td>
      <td>17.000000</td>
      <td>...</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>16.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>3.000000</td>
      <td>0.0</td>
      <td>3.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>55.000000</td>
      <td>1.000000</td>
      <td>3.000000</td>
      <td>30.000000</td>
      <td>12.000000</td>
      <td>16.000000</td>
      <td>8.500000</td>
      <td>1.000000</td>
      <td>24.000000</td>
      <td>24.000000</td>
      <td>...</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>52.000000</td>
      <td>0.000000</td>
      <td>16.000000</td>
      <td>8.000000</td>
      <td>0.0</td>
      <td>9.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1837.000000</td>
      <td>14.000000</td>
      <td>12.000000</td>
      <td>1816.000000</td>
      <td>1771.000000</td>
      <td>63.000000</td>
      <td>31.500000</td>
      <td>1.000000</td>
      <td>109.000000</td>
      <td>109.000000</td>
      <td>...</td>
      <td>3.000000</td>
      <td>57.000000</td>
      <td>13451.000000</td>
      <td>113.000000</td>
      <td>16457.000000</td>
      <td>349.000000</td>
      <td>0.0</td>
      <td>1885.000000</td>
      <td>4.000000</td>
      <td>11.000000</td>
    </tr>
  </tbody>
</table>
<p>8 rows × 43 columns</p>
</div>



## <b>데이터 탐색/정제</b>


### <b>Q1. 중복 데이터 제거</b>
---
 - 중복된 행데이터 삭제


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 6108 entries, 0 to 6107
    Data columns (total 44 columns):
     #   Column                     Non-Null Count  Dtype  
    ---  ------                     --------------  -----  
     0   url_len                    6108 non-null   int64  
     1   url_num_hyphens_dom        6108 non-null   int64  
     2   url_num_dom_token          6105 non-null   float64
     3   url_path_len               6107 non-null   float64
     4   url_filename_len           6108 non-null   int64  
     5   url_longest_dom_token_len  6108 non-null   int64  
     6   url_average_dom_token_len  6108 non-null   float64
     7   url_tld                    6108 non-null   int64  
     8   url_domain_len             6105 non-null   float64
     9   url_hostname_len           6108 non-null   int64  
     10  url_num_dots               6108 non-null   int64  
     11  url_num_underscores        6107 non-null   float64
     12  url_num_equals             6107 non-null   float64
     13  url_num_slashes            6107 non-null   float64
     14  url_num_dash               6108 non-null   int64  
     15  url_num_semicolon          6108 non-null   int64  
     16  url_num_at                 6108 non-null   int64  
     17  url_num_percent            6108 non-null   int64  
     18  url_num_plus               6108 non-null   int64  
     19  url_query_len              6108 non-null   int64  
     20  url_num_query_para         6108 non-null   int64  
     21  url_ip_present             6108 non-null   int64  
     22  url_entropy                6108 non-null   float64
     23  url_count_consonants       6108 non-null   int64  
     24  url_num_digits             6108 non-null   int64  
     25  url_chinese_present        6108 non-null   int64  
     26  url_port                   6108 non-null   int64  
     27  html_num_tags('iframe')    6108 non-null   int64  
     28  html_num_tags('script')    6108 non-null   int64  
     29  html_num_tags('embed')     6108 non-null   int64  
     30  html_num_tags('object')    6108 non-null   int64  
     31  html_num_tags('div')       6108 non-null   int64  
     32  html_num_tags('head')      6108 non-null   int64  
     33  html_num_tags('body')      6108 non-null   int64  
     34  html_num_tags('form')      6108 non-null   int64  
     35  html_num_tags('a')         6108 non-null   int64  
     36  html_num_tags('small')     6108 non-null   int64  
     37  html_num_tags('span')      6108 non-null   int64  
     38  html_num_tags('input')     6108 non-null   int64  
     39  html_num_tags('applet')    6108 non-null   int64  
     40  html_num_tags('img')       6108 non-null   int64  
     41  html_num_tags('video')     6108 non-null   int64  
     42  html_num_tags('audio')     6108 non-null   int64  
     43  Result_v1                  6108 non-null   object 
    dtypes: float64(8), int64(35), object(1)
    memory usage: 2.1+ MB



```python
# 중복 데이터 제거 : drop_duplicates()
df=df.drop_duplicates()


```


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 5198 entries, 0 to 6102
    Data columns (total 44 columns):
     #   Column                     Non-Null Count  Dtype  
    ---  ------                     --------------  -----  
     0   url_len                    5198 non-null   int64  
     1   url_num_hyphens_dom        5198 non-null   int64  
     2   url_num_dom_token          5195 non-null   float64
     3   url_path_len               5197 non-null   float64
     4   url_filename_len           5198 non-null   int64  
     5   url_longest_dom_token_len  5198 non-null   int64  
     6   url_average_dom_token_len  5198 non-null   float64
     7   url_tld                    5198 non-null   int64  
     8   url_domain_len             5195 non-null   float64
     9   url_hostname_len           5198 non-null   int64  
     10  url_num_dots               5198 non-null   int64  
     11  url_num_underscores        5197 non-null   float64
     12  url_num_equals             5197 non-null   float64
     13  url_num_slashes            5197 non-null   float64
     14  url_num_dash               5198 non-null   int64  
     15  url_num_semicolon          5198 non-null   int64  
     16  url_num_at                 5198 non-null   int64  
     17  url_num_percent            5198 non-null   int64  
     18  url_num_plus               5198 non-null   int64  
     19  url_query_len              5198 non-null   int64  
     20  url_num_query_para         5198 non-null   int64  
     21  url_ip_present             5198 non-null   int64  
     22  url_entropy                5198 non-null   float64
     23  url_count_consonants       5198 non-null   int64  
     24  url_num_digits             5198 non-null   int64  
     25  url_chinese_present        5198 non-null   int64  
     26  url_port                   5198 non-null   int64  
     27  html_num_tags('iframe')    5198 non-null   int64  
     28  html_num_tags('script')    5198 non-null   int64  
     29  html_num_tags('embed')     5198 non-null   int64  
     30  html_num_tags('object')    5198 non-null   int64  
     31  html_num_tags('div')       5198 non-null   int64  
     32  html_num_tags('head')      5198 non-null   int64  
     33  html_num_tags('body')      5198 non-null   int64  
     34  html_num_tags('form')      5198 non-null   int64  
     35  html_num_tags('a')         5198 non-null   int64  
     36  html_num_tags('small')     5198 non-null   int64  
     37  html_num_tags('span')      5198 non-null   int64  
     38  html_num_tags('input')     5198 non-null   int64  
     39  html_num_tags('applet')    5198 non-null   int64  
     40  html_num_tags('img')       5198 non-null   int64  
     41  html_num_tags('video')     5198 non-null   int64  
     42  html_num_tags('audio')     5198 non-null   int64  
     43  Result_v1                  5198 non-null   object 
    dtypes: float64(8), int64(35), object(1)
    memory usage: 1.8+ MB


### <b>Q2. 텍스트와 범주형 특성 처리</b>
---
 - replace() 함수를 이용한 텍스트와 범주형 특성 처리
 - 참고사이트 : https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.replace.html

#### <b>replace() 함수 사용 예</b>
---


```python
import pandas as pd

df_ex = pd.DataFrame({'name': ['Alice','Bob','Charlie','Dave','Ellen','Frank'],
                   'age': [24,42,18,68,24,30],
                   'state': ['NY','CA','CA','TX','CA','NY'],
                   'point': [64,24,70,70,88,57]}
                  )

df_ex
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>age</th>
      <th>state</th>
      <th>point</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Alice</td>
      <td>24</td>
      <td>NY</td>
      <td>64</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bob</td>
      <td>42</td>
      <td>CA</td>
      <td>24</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Charlie</td>
      <td>18</td>
      <td>CA</td>
      <td>70</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Dave</td>
      <td>68</td>
      <td>TX</td>
      <td>70</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Ellen</td>
      <td>24</td>
      <td>CA</td>
      <td>88</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Frank</td>
      <td>30</td>
      <td>NY</td>
      <td>57</td>
    </tr>
  </tbody>
</table>
</div>




```python
df_ex['state'] = df_ex['state'].replace('NY','NewYork')
df_ex['state'] = df_ex['state'].replace('CA','California')

df_ex

```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>age</th>
      <th>state</th>
      <th>point</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Alice</td>
      <td>24</td>
      <td>NewYork</td>
      <td>64</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bob</td>
      <td>42</td>
      <td>California</td>
      <td>24</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Charlie</td>
      <td>18</td>
      <td>California</td>
      <td>70</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Dave</td>
      <td>68</td>
      <td>TX</td>
      <td>70</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Ellen</td>
      <td>24</td>
      <td>California</td>
      <td>88</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Frank</td>
      <td>30</td>
      <td>NewYork</td>
      <td>57</td>
    </tr>
  </tbody>
</table>
</div>




```python
df_ex['state'].replace({'CA':'California','NY':'NewYork'}, inplace=True)
print(df_ex)
```

          name  age       state  point
    0    Alice   24     NewYork     64
    1      Bob   42  California     24
    2  Charlie   18  California     70
    3     Dave   68          TX     70
    4    Ellen   24  California     88
    5    Frank   30     NewYork     57


#### <b>텍스트와 범주형 특성 처리 실습</b>
---


```python
# unique() 유일한 값 확인
df['Result_v1'].unique()
```




    array(['benign', 'malicious'], dtype=object)




```python
# df['Result_v1'] = df['Result_v1'].replace('benign','1')
# df['Result_v1'] = df['Result_v1'].replace('malicious','-1')
```


```python
# df['Result_v1'] = df['Result_v1'].astype('int64')
```


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 5198 entries, 0 to 6102
    Data columns (total 44 columns):
     #   Column                     Non-Null Count  Dtype  
    ---  ------                     --------------  -----  
     0   url_len                    5198 non-null   int64  
     1   url_num_hyphens_dom        5198 non-null   int64  
     2   url_num_dom_token          5195 non-null   float64
     3   url_path_len               5197 non-null   float64
     4   url_filename_len           5198 non-null   int64  
     5   url_longest_dom_token_len  5198 non-null   int64  
     6   url_average_dom_token_len  5198 non-null   float64
     7   url_tld                    5198 non-null   int64  
     8   url_domain_len             5195 non-null   float64
     9   url_hostname_len           5198 non-null   int64  
     10  url_num_dots               5198 non-null   int64  
     11  url_num_underscores        5197 non-null   float64
     12  url_num_equals             5197 non-null   float64
     13  url_num_slashes            5197 non-null   float64
     14  url_num_dash               5198 non-null   int64  
     15  url_num_semicolon          5198 non-null   int64  
     16  url_num_at                 5198 non-null   int64  
     17  url_num_percent            5198 non-null   int64  
     18  url_num_plus               5198 non-null   int64  
     19  url_query_len              5198 non-null   int64  
     20  url_num_query_para         5198 non-null   int64  
     21  url_ip_present             5198 non-null   int64  
     22  url_entropy                5198 non-null   float64
     23  url_count_consonants       5198 non-null   int64  
     24  url_num_digits             5198 non-null   int64  
     25  url_chinese_present        5198 non-null   int64  
     26  url_port                   5198 non-null   int64  
     27  html_num_tags('iframe')    5198 non-null   int64  
     28  html_num_tags('script')    5198 non-null   int64  
     29  html_num_tags('embed')     5198 non-null   int64  
     30  html_num_tags('object')    5198 non-null   int64  
     31  html_num_tags('div')       5198 non-null   int64  
     32  html_num_tags('head')      5198 non-null   int64  
     33  html_num_tags('body')      5198 non-null   int64  
     34  html_num_tags('form')      5198 non-null   int64  
     35  html_num_tags('a')         5198 non-null   int64  
     36  html_num_tags('small')     5198 non-null   int64  
     37  html_num_tags('span')      5198 non-null   int64  
     38  html_num_tags('input')     5198 non-null   int64  
     39  html_num_tags('applet')    5198 non-null   int64  
     40  html_num_tags('img')       5198 non-null   int64  
     41  html_num_tags('video')     5198 non-null   int64  
     42  html_num_tags('audio')     5198 non-null   int64  
     43  Result_v1                  5198 non-null   object 
    dtypes: float64(8), int64(35), object(1)
    memory usage: 1.8+ MB



```python

```


```python
# replace() 함수 사용
# 'benign'=1,'malicious'=-1 처리
df['Result_v1'].replace({'benign': 1,'malicious': -1 }, inplace=True)

```

    /usr/local/lib/python3.6/dist-packages/pandas/core/series.py:4582: SettingWithCopyWarning: 
    A value is trying to be set on a copy of a slice from a DataFrame
    
    See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
      method=method,



```python
df['Result_v1'].unique()
```




    array([ 1, -1])




```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 5198 entries, 0 to 6102
    Data columns (total 44 columns):
     #   Column                     Non-Null Count  Dtype  
    ---  ------                     --------------  -----  
     0   url_len                    5198 non-null   int64  
     1   url_num_hyphens_dom        5198 non-null   int64  
     2   url_num_dom_token          5195 non-null   float64
     3   url_path_len               5197 non-null   float64
     4   url_filename_len           5198 non-null   int64  
     5   url_longest_dom_token_len  5198 non-null   int64  
     6   url_average_dom_token_len  5198 non-null   float64
     7   url_tld                    5198 non-null   int64  
     8   url_domain_len             5195 non-null   float64
     9   url_hostname_len           5198 non-null   int64  
     10  url_num_dots               5198 non-null   int64  
     11  url_num_underscores        5197 non-null   float64
     12  url_num_equals             5197 non-null   float64
     13  url_num_slashes            5197 non-null   float64
     14  url_num_dash               5198 non-null   int64  
     15  url_num_semicolon          5198 non-null   int64  
     16  url_num_at                 5198 non-null   int64  
     17  url_num_percent            5198 non-null   int64  
     18  url_num_plus               5198 non-null   int64  
     19  url_query_len              5198 non-null   int64  
     20  url_num_query_para         5198 non-null   int64  
     21  url_ip_present             5198 non-null   int64  
     22  url_entropy                5198 non-null   float64
     23  url_count_consonants       5198 non-null   int64  
     24  url_num_digits             5198 non-null   int64  
     25  url_chinese_present        5198 non-null   int64  
     26  url_port                   5198 non-null   int64  
     27  html_num_tags('iframe')    5198 non-null   int64  
     28  html_num_tags('script')    5198 non-null   int64  
     29  html_num_tags('embed')     5198 non-null   int64  
     30  html_num_tags('object')    5198 non-null   int64  
     31  html_num_tags('div')       5198 non-null   int64  
     32  html_num_tags('head')      5198 non-null   int64  
     33  html_num_tags('body')      5198 non-null   int64  
     34  html_num_tags('form')      5198 non-null   int64  
     35  html_num_tags('a')         5198 non-null   int64  
     36  html_num_tags('small')     5198 non-null   int64  
     37  html_num_tags('span')      5198 non-null   int64  
     38  html_num_tags('input')     5198 non-null   int64  
     39  html_num_tags('applet')    5198 non-null   int64  
     40  html_num_tags('img')       5198 non-null   int64  
     41  html_num_tags('video')     5198 non-null   int64  
     42  html_num_tags('audio')     5198 non-null   int64  
     43  Result_v1                  5198 non-null   int64  
    dtypes: float64(8), int64(36)
    memory usage: 1.8 MB


### <b>Q3. 결측치 제거</b>
---


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 5198 entries, 0 to 6102
    Data columns (total 44 columns):
     #   Column                     Non-Null Count  Dtype  
    ---  ------                     --------------  -----  
     0   url_len                    5198 non-null   int64  
     1   url_num_hyphens_dom        5198 non-null   int64  
     2   url_num_dom_token          5195 non-null   float64
     3   url_path_len               5197 non-null   float64
     4   url_filename_len           5198 non-null   int64  
     5   url_longest_dom_token_len  5198 non-null   int64  
     6   url_average_dom_token_len  5198 non-null   float64
     7   url_tld                    5198 non-null   int64  
     8   url_domain_len             5195 non-null   float64
     9   url_hostname_len           5198 non-null   int64  
     10  url_num_dots               5198 non-null   int64  
     11  url_num_underscores        5197 non-null   float64
     12  url_num_equals             5197 non-null   float64
     13  url_num_slashes            5197 non-null   float64
     14  url_num_dash               5198 non-null   int64  
     15  url_num_semicolon          5198 non-null   int64  
     16  url_num_at                 5198 non-null   int64  
     17  url_num_percent            5198 non-null   int64  
     18  url_num_plus               5198 non-null   int64  
     19  url_query_len              5198 non-null   int64  
     20  url_num_query_para         5198 non-null   int64  
     21  url_ip_present             5198 non-null   int64  
     22  url_entropy                5198 non-null   float64
     23  url_count_consonants       5198 non-null   int64  
     24  url_num_digits             5198 non-null   int64  
     25  url_chinese_present        5198 non-null   int64  
     26  url_port                   5198 non-null   int64  
     27  html_num_tags('iframe')    5198 non-null   int64  
     28  html_num_tags('script')    5198 non-null   int64  
     29  html_num_tags('embed')     5198 non-null   int64  
     30  html_num_tags('object')    5198 non-null   int64  
     31  html_num_tags('div')       5198 non-null   int64  
     32  html_num_tags('head')      5198 non-null   int64  
     33  html_num_tags('body')      5198 non-null   int64  
     34  html_num_tags('form')      5198 non-null   int64  
     35  html_num_tags('a')         5198 non-null   int64  
     36  html_num_tags('small')     5198 non-null   int64  
     37  html_num_tags('span')      5198 non-null   int64  
     38  html_num_tags('input')     5198 non-null   int64  
     39  html_num_tags('applet')    5198 non-null   int64  
     40  html_num_tags('img')       5198 non-null   int64  
     41  html_num_tags('video')     5198 non-null   int64  
     42  html_num_tags('audio')     5198 non-null   int64  
     43  Result_v1                  5198 non-null   int64  
    dtypes: float64(8), int64(36)
    memory usage: 1.8 MB



```python
# 결측치 제거
# dropna()

df = df.dropna()
```


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 5189 entries, 0 to 5999
    Data columns (total 44 columns):
     #   Column                     Non-Null Count  Dtype  
    ---  ------                     --------------  -----  
     0   url_len                    5189 non-null   int64  
     1   url_num_hyphens_dom        5189 non-null   int64  
     2   url_num_dom_token          5189 non-null   float64
     3   url_path_len               5189 non-null   float64
     4   url_filename_len           5189 non-null   int64  
     5   url_longest_dom_token_len  5189 non-null   int64  
     6   url_average_dom_token_len  5189 non-null   float64
     7   url_tld                    5189 non-null   int64  
     8   url_domain_len             5189 non-null   float64
     9   url_hostname_len           5189 non-null   int64  
     10  url_num_dots               5189 non-null   int64  
     11  url_num_underscores        5189 non-null   float64
     12  url_num_equals             5189 non-null   float64
     13  url_num_slashes            5189 non-null   float64
     14  url_num_dash               5189 non-null   int64  
     15  url_num_semicolon          5189 non-null   int64  
     16  url_num_at                 5189 non-null   int64  
     17  url_num_percent            5189 non-null   int64  
     18  url_num_plus               5189 non-null   int64  
     19  url_query_len              5189 non-null   int64  
     20  url_num_query_para         5189 non-null   int64  
     21  url_ip_present             5189 non-null   int64  
     22  url_entropy                5189 non-null   float64
     23  url_count_consonants       5189 non-null   int64  
     24  url_num_digits             5189 non-null   int64  
     25  url_chinese_present        5189 non-null   int64  
     26  url_port                   5189 non-null   int64  
     27  html_num_tags('iframe')    5189 non-null   int64  
     28  html_num_tags('script')    5189 non-null   int64  
     29  html_num_tags('embed')     5189 non-null   int64  
     30  html_num_tags('object')    5189 non-null   int64  
     31  html_num_tags('div')       5189 non-null   int64  
     32  html_num_tags('head')      5189 non-null   int64  
     33  html_num_tags('body')      5189 non-null   int64  
     34  html_num_tags('form')      5189 non-null   int64  
     35  html_num_tags('a')         5189 non-null   int64  
     36  html_num_tags('small')     5189 non-null   int64  
     37  html_num_tags('span')      5189 non-null   int64  
     38  html_num_tags('input')     5189 non-null   int64  
     39  html_num_tags('applet')    5189 non-null   int64  
     40  html_num_tags('img')       5189 non-null   int64  
     41  html_num_tags('video')     5189 non-null   int64  
     42  html_num_tags('audio')     5189 non-null   int64  
     43  Result_v1                  5189 non-null   int64  
    dtypes: float64(8), int64(36)
    memory usage: 1.8 MB


### <b>Q4. 데이터 탐색을 통한 불필요한 칼럼 제거</b>
---
- ex) 그래프, 데이터 상관관계 corr()등 활용
- corr() 메서드 : 모든 특성 간의 표준 상관계수(피어슨의 R)
  - 확률론과 통계학에서 두 변수간에 어떤 선형적 또는 비선형적 관계를 갖고 있는지를 분석하는 방법
  - r 값은 X 와 Y 가 완전히 동일하면 +1, 전혀 다르면 0, 반대방향으로 완전히 동일 하면 –1 
- scatter 그래프를 활용한 데이터 분석

#### <b>corr() 함수 사용 예</b> 
---


```python
from sklearn.datasets import load_iris
import pandas as pd

iris = load_iris()
df_ex = pd.DataFrame(data=iris.data, columns=iris.feature_names)
df_ex['target'] = iris.target
```


```python
df_ex
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal length (cm)</th>
      <th>sepal width (cm)</th>
      <th>petal length (cm)</th>
      <th>petal width (cm)</th>
      <th>target</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>3.5</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.9</td>
      <td>3.0</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.7</td>
      <td>3.2</td>
      <td>1.3</td>
      <td>0.2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>3.1</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>3.6</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>145</th>
      <td>6.7</td>
      <td>3.0</td>
      <td>5.2</td>
      <td>2.3</td>
      <td>2</td>
    </tr>
    <tr>
      <th>146</th>
      <td>6.3</td>
      <td>2.5</td>
      <td>5.0</td>
      <td>1.9</td>
      <td>2</td>
    </tr>
    <tr>
      <th>147</th>
      <td>6.5</td>
      <td>3.0</td>
      <td>5.2</td>
      <td>2.0</td>
      <td>2</td>
    </tr>
    <tr>
      <th>148</th>
      <td>6.2</td>
      <td>3.4</td>
      <td>5.4</td>
      <td>2.3</td>
      <td>2</td>
    </tr>
    <tr>
      <th>149</th>
      <td>5.9</td>
      <td>3.0</td>
      <td>5.1</td>
      <td>1.8</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
<p>150 rows × 5 columns</p>
</div>




```python
print(iris.DESCR)
```

    .. _iris_dataset:
    
    Iris plants dataset
    --------------------
    
    **Data Set Characteristics:**
    
        :Number of Instances: 150 (50 in each of three classes)
        :Number of Attributes: 4 numeric, predictive attributes and the class
        :Attribute Information:
            - sepal length in cm
            - sepal width in cm
            - petal length in cm
            - petal width in cm
            - class:
                    - Iris-Setosa
                    - Iris-Versicolour
                    - Iris-Virginica
                    
        :Summary Statistics:
    
        ============== ==== ==== ======= ===== ====================
                        Min  Max   Mean    SD   Class Correlation
        ============== ==== ==== ======= ===== ====================
        sepal length:   4.3  7.9   5.84   0.83    0.7826
        sepal width:    2.0  4.4   3.05   0.43   -0.4194
        petal length:   1.0  6.9   3.76   1.76    0.9490  (high!)
        petal width:    0.1  2.5   1.20   0.76    0.9565  (high!)
        ============== ==== ==== ======= ===== ====================
    
        :Missing Attribute Values: None
        :Class Distribution: 33.3% for each of 3 classes.
        :Creator: R.A. Fisher
        :Donor: Michael Marshall (MARSHALL%PLU@io.arc.nasa.gov)
        :Date: July, 1988
    
    The famous Iris database, first used by Sir R.A. Fisher. The dataset is taken
    from Fisher's paper. Note that it's the same as in R, but not as in the UCI
    Machine Learning Repository, which has two wrong data points.
    
    This is perhaps the best known database to be found in the
    pattern recognition literature.  Fisher's paper is a classic in the field and
    is referenced frequently to this day.  (See Duda & Hart, for example.)  The
    data set contains 3 classes of 50 instances each, where each class refers to a
    type of iris plant.  One class is linearly separable from the other 2; the
    latter are NOT linearly separable from each other.
    
    .. topic:: References
    
       - Fisher, R.A. "The use of multiple measurements in taxonomic problems"
         Annual Eugenics, 7, Part II, 179-188 (1936); also in "Contributions to
         Mathematical Statistics" (John Wiley, NY, 1950).
       - Duda, R.O., & Hart, P.E. (1973) Pattern Classification and Scene Analysis.
         (Q327.D83) John Wiley & Sons.  ISBN 0-471-22361-1.  See page 218.
       - Dasarathy, B.V. (1980) "Nosing Around the Neighborhood: A New System
         Structure and Classification Rule for Recognition in Partially Exposed
         Environments".  IEEE Transactions on Pattern Analysis and Machine
         Intelligence, Vol. PAMI-2, No. 1, 67-71.
       - Gates, G.W. (1972) "The Reduced Nearest Neighbor Rule".  IEEE Transactions
         on Information Theory, May 1972, 431-433.
       - See also: 1988 MLC Proceedings, 54-64.  Cheeseman et al"s AUTOCLASS II
         conceptual clustering system finds 3 classes in the data.
       - Many, many more ...



```python
df_ex.corr()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal length (cm)</th>
      <th>sepal width (cm)</th>
      <th>petal length (cm)</th>
      <th>petal width (cm)</th>
      <th>target</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>sepal length (cm)</th>
      <td>1.000000</td>
      <td>-0.117570</td>
      <td>0.871754</td>
      <td>0.817941</td>
      <td>0.782561</td>
    </tr>
    <tr>
      <th>sepal width (cm)</th>
      <td>-0.117570</td>
      <td>1.000000</td>
      <td>-0.428440</td>
      <td>-0.366126</td>
      <td>-0.426658</td>
    </tr>
    <tr>
      <th>petal length (cm)</th>
      <td>0.871754</td>
      <td>-0.428440</td>
      <td>1.000000</td>
      <td>0.962865</td>
      <td>0.949035</td>
    </tr>
    <tr>
      <th>petal width (cm)</th>
      <td>0.817941</td>
      <td>-0.366126</td>
      <td>0.962865</td>
      <td>1.000000</td>
      <td>0.956547</td>
    </tr>
    <tr>
      <th>target</th>
      <td>0.782561</td>
      <td>-0.426658</td>
      <td>0.949035</td>
      <td>0.956547</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>




```python
df_ex.corr()['target'].sort_values(ascending=False)
```




    target               1.000000
    petal width (cm)     0.956547
    petal length (cm)    0.949035
    sepal length (cm)    0.782561
    sepal width (cm)    -0.426658
    Name: target, dtype: float64



#### <b>scatter 그래프를 활용한 데이터 분석 예</b>
---


```python
import matplotlib.pyplot as plt
```


```python
df_ex['color'] = df_ex['target'].map({0:"red", 1:"blue", 2:"green"})
```


```python
df_ex
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal length (cm)</th>
      <th>sepal width (cm)</th>
      <th>petal length (cm)</th>
      <th>petal width (cm)</th>
      <th>target</th>
      <th>color</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>3.5</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>0</td>
      <td>red</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.9</td>
      <td>3.0</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>0</td>
      <td>red</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.7</td>
      <td>3.2</td>
      <td>1.3</td>
      <td>0.2</td>
      <td>0</td>
      <td>red</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>3.1</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>0</td>
      <td>red</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>3.6</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>0</td>
      <td>red</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>145</th>
      <td>6.7</td>
      <td>3.0</td>
      <td>5.2</td>
      <td>2.3</td>
      <td>2</td>
      <td>green</td>
    </tr>
    <tr>
      <th>146</th>
      <td>6.3</td>
      <td>2.5</td>
      <td>5.0</td>
      <td>1.9</td>
      <td>2</td>
      <td>green</td>
    </tr>
    <tr>
      <th>147</th>
      <td>6.5</td>
      <td>3.0</td>
      <td>5.2</td>
      <td>2.0</td>
      <td>2</td>
      <td>green</td>
    </tr>
    <tr>
      <th>148</th>
      <td>6.2</td>
      <td>3.4</td>
      <td>5.4</td>
      <td>2.3</td>
      <td>2</td>
      <td>green</td>
    </tr>
    <tr>
      <th>149</th>
      <td>5.9</td>
      <td>3.0</td>
      <td>5.1</td>
      <td>1.8</td>
      <td>2</td>
      <td>green</td>
    </tr>
  </tbody>
</table>
<p>150 rows × 6 columns</p>
</div>




```python
df_ex.columns
```




    Index(['sepal length (cm)', 'sepal width (cm)', 'petal length (cm)',
           'petal width (cm)', 'target', 'color'],
          dtype='object')




```python
y_list = df_ex.columns
for i in range(0, len(y_list)):
    df_ex.plot(kind='scatter',x='target',y=y_list[i],s=30, c=df_ex['color'])
    plt.title('Scatter', fontsize=20)
    plt.xlabel('target')
    plt.ylabel(y_list[i])
    plt.show()
```


    
![png](output_40_0.png)
    



    
![png](output_40_1.png)
    



    
![png](output_40_2.png)
    



    
![png](output_40_3.png)
    



    
![png](output_40_4.png)
    



    
![png](output_40_5.png)
    



```python

```

#### <b>corr() 상관관계를 활용한 데이터 분석 실습</b>
---


```python
df.corr()['Result_v1'].sort_values(ascending=False)
```




    Result_v1                    1.000000
    url_num_dom_token            0.242202
    html_num_tags('script')      0.205229
    html_num_tags('img')         0.139923
    url_num_percent              0.122109
    url_filename_len             0.118624
    html_num_tags('a')           0.115747
    url_num_underscores          0.114572
    html_num_tags('embed')       0.104836
    url_path_len                 0.103433
    html_num_tags('object')      0.103065
    url_num_digits               0.077680
    url_ip_present               0.070428
    html_num_tags('div')         0.063874
    html_num_tags('span')        0.053305
    html_num_tags('iframe')      0.042297
    url_num_dots                 0.039950
    html_num_tags('small')       0.022192
    html_num_tags('audio')       0.013208
    html_num_tags('video')       0.006198
    url_port                     0.004197
    url_num_plus                 0.000479
    url_len                     -0.005050
    html_num_tags('head')       -0.035772
    url_num_semicolon           -0.064152
    url_num_at                  -0.076415
    html_num_tags('body')       -0.112924
    html_num_tags('form')       -0.124800
    url_count_consonants        -0.133337
    url_num_slashes             -0.142931
    url_query_len               -0.169771
    url_entropy                 -0.170543
    url_num_query_para          -0.180959
    url_num_dash                -0.181687
    url_num_equals              -0.193610
    url_tld                     -0.195497
    html_num_tags('input')      -0.199075
    url_num_hyphens_dom         -0.362520
    url_domain_len              -0.383381
    url_hostname_len            -0.387142
    url_longest_dom_token_len   -0.509985
    url_average_dom_token_len   -0.534915
    url_chinese_present               NaN
    html_num_tags('applet')           NaN
    Name: Result_v1, dtype: float64




```python

```


```python

```


```python

```


```python

```

#### <b>scatter 그래프를 활용한 데이터 분석 실습</b>
---


```python
import matplotlib.pyplot as plt
```


```python
df['Result_v1'].unique
```




    <bound method Series.unique of 0       1
    1       1
    2       1
    3       1
    4       1
           ..
    5995   -1
    5996   -1
    5997   -1
    5998   -1
    5999   -1
    Name: Result_v1, Length: 5189, dtype: int64>




```python
# 1 = 'blue',-1 = 'red' 처리
df['color'] = df['Result_v1'].map({1:"blue",   -1:"red"})
```


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 5189 entries, 0 to 5999
    Data columns (total 45 columns):
     #   Column                     Non-Null Count  Dtype  
    ---  ------                     --------------  -----  
     0   url_len                    5189 non-null   int64  
     1   url_num_hyphens_dom        5189 non-null   int64  
     2   url_num_dom_token          5189 non-null   float64
     3   url_path_len               5189 non-null   float64
     4   url_filename_len           5189 non-null   int64  
     5   url_longest_dom_token_len  5189 non-null   int64  
     6   url_average_dom_token_len  5189 non-null   float64
     7   url_tld                    5189 non-null   int64  
     8   url_domain_len             5189 non-null   float64
     9   url_hostname_len           5189 non-null   int64  
     10  url_num_dots               5189 non-null   int64  
     11  url_num_underscores        5189 non-null   float64
     12  url_num_equals             5189 non-null   float64
     13  url_num_slashes            5189 non-null   float64
     14  url_num_dash               5189 non-null   int64  
     15  url_num_semicolon          5189 non-null   int64  
     16  url_num_at                 5189 non-null   int64  
     17  url_num_percent            5189 non-null   int64  
     18  url_num_plus               5189 non-null   int64  
     19  url_query_len              5189 non-null   int64  
     20  url_num_query_para         5189 non-null   int64  
     21  url_ip_present             5189 non-null   int64  
     22  url_entropy                5189 non-null   float64
     23  url_count_consonants       5189 non-null   int64  
     24  url_num_digits             5189 non-null   int64  
     25  url_chinese_present        5189 non-null   int64  
     26  url_port                   5189 non-null   int64  
     27  html_num_tags('iframe')    5189 non-null   int64  
     28  html_num_tags('script')    5189 non-null   int64  
     29  html_num_tags('embed')     5189 non-null   int64  
     30  html_num_tags('object')    5189 non-null   int64  
     31  html_num_tags('div')       5189 non-null   int64  
     32  html_num_tags('head')      5189 non-null   int64  
     33  html_num_tags('body')      5189 non-null   int64  
     34  html_num_tags('form')      5189 non-null   int64  
     35  html_num_tags('a')         5189 non-null   int64  
     36  html_num_tags('small')     5189 non-null   int64  
     37  html_num_tags('span')      5189 non-null   int64  
     38  html_num_tags('input')     5189 non-null   int64  
     39  html_num_tags('applet')    5189 non-null   int64  
     40  html_num_tags('img')       5189 non-null   int64  
     41  html_num_tags('video')     5189 non-null   int64  
     42  html_num_tags('audio')     5189 non-null   int64  
     43  Result_v1                  5189 non-null   int64  
     44  color                      5189 non-null   object 
    dtypes: float64(8), int64(36), object(1)
    memory usage: 1.8+ MB


df


```python
y_list = df.columns

for i in range(0, len(y_list)):
    df.plot(kind='scatter', x='Result_v1', y=y_list[i],s=30, c=df['color'])
    plt.title('title', fontsize=20)
    plt.xlabel('Result_v1')
    plt.ylabel(y_list[i])
    plt.show()



# y_list = df.columns

# for i in range(0, len(y_list)):
#     df.plot(kind='scatter',x='Result_v1',y=y_list[i],s=30, c=df['color'])
#     plt.show()





```


    
![png](output_54_0.png)
    



    
![png](output_54_1.png)
    



    
![png](output_54_2.png)
    



    
![png](output_54_3.png)
    



    
![png](output_54_4.png)
    



    
![png](output_54_5.png)
    



    
![png](output_54_6.png)
    



    
![png](output_54_7.png)
    



    
![png](output_54_8.png)
    



    
![png](output_54_9.png)
    



    
![png](output_54_10.png)
    



    
![png](output_54_11.png)
    



    
![png](output_54_12.png)
    



    
![png](output_54_13.png)
    



    
![png](output_54_14.png)
    



    
![png](output_54_15.png)
    



    
![png](output_54_16.png)
    



    
![png](output_54_17.png)
    



    
![png](output_54_18.png)
    



    
![png](output_54_19.png)
    



    
![png](output_54_20.png)
    



    
![png](output_54_21.png)
    



    
![png](output_54_22.png)
    



    
![png](output_54_23.png)
    



    
![png](output_54_24.png)
    



    
![png](output_54_25.png)
    



    
![png](output_54_26.png)
    



    
![png](output_54_27.png)
    



    
![png](output_54_28.png)
    



    
![png](output_54_29.png)
    



    
![png](output_54_30.png)
    



    
![png](output_54_31.png)
    



    
![png](output_54_32.png)
    



    
![png](output_54_33.png)
    



    
![png](output_54_34.png)
    



    
![png](output_54_35.png)
    



    
![png](output_54_36.png)
    



    
![png](output_54_37.png)
    



    
![png](output_54_38.png)
    



    
![png](output_54_39.png)
    



    
![png](output_54_40.png)
    



    
![png](output_54_41.png)
    



    
![png](output_54_42.png)
    



    
![png](output_54_43.png)
    



    
![png](output_54_44.png)
    



```python

```

#### <b>불필요한 컬럼 제거</b>
---


```python
df.drop(columns=["url_chinese_present","html_num_tags('applet')"],inplace=True)
```


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 5189 entries, 0 to 5999
    Data columns (total 43 columns):
     #   Column                     Non-Null Count  Dtype  
    ---  ------                     --------------  -----  
     0   url_len                    5189 non-null   int64  
     1   url_num_hyphens_dom        5189 non-null   int64  
     2   url_num_dom_token          5189 non-null   float64
     3   url_path_len               5189 non-null   float64
     4   url_filename_len           5189 non-null   int64  
     5   url_longest_dom_token_len  5189 non-null   int64  
     6   url_average_dom_token_len  5189 non-null   float64
     7   url_tld                    5189 non-null   int64  
     8   url_domain_len             5189 non-null   float64
     9   url_hostname_len           5189 non-null   int64  
     10  url_num_dots               5189 non-null   int64  
     11  url_num_underscores        5189 non-null   float64
     12  url_num_equals             5189 non-null   float64
     13  url_num_slashes            5189 non-null   float64
     14  url_num_dash               5189 non-null   int64  
     15  url_num_semicolon          5189 non-null   int64  
     16  url_num_at                 5189 non-null   int64  
     17  url_num_percent            5189 non-null   int64  
     18  url_num_plus               5189 non-null   int64  
     19  url_query_len              5189 non-null   int64  
     20  url_num_query_para         5189 non-null   int64  
     21  url_ip_present             5189 non-null   int64  
     22  url_entropy                5189 non-null   float64
     23  url_count_consonants       5189 non-null   int64  
     24  url_num_digits             5189 non-null   int64  
     25  url_port                   5189 non-null   int64  
     26  html_num_tags('iframe')    5189 non-null   int64  
     27  html_num_tags('script')    5189 non-null   int64  
     28  html_num_tags('embed')     5189 non-null   int64  
     29  html_num_tags('object')    5189 non-null   int64  
     30  html_num_tags('div')       5189 non-null   int64  
     31  html_num_tags('head')      5189 non-null   int64  
     32  html_num_tags('body')      5189 non-null   int64  
     33  html_num_tags('form')      5189 non-null   int64  
     34  html_num_tags('a')         5189 non-null   int64  
     35  html_num_tags('small')     5189 non-null   int64  
     36  html_num_tags('span')      5189 non-null   int64  
     37  html_num_tags('input')     5189 non-null   int64  
     38  html_num_tags('img')       5189 non-null   int64  
     39  html_num_tags('video')     5189 non-null   int64  
     40  html_num_tags('audio')     5189 non-null   int64  
     41  Result_v1                  5189 non-null   int64  
     42  color                      5189 non-null   object 
    dtypes: float64(8), int64(34), object(1)
    memory usage: 1.7+ MB



```python

```

## Q5. train_test_split을 이용하여, train_x, val_x, train_y, val_y로 데이터 분리
---

- test_size = 0.3
- random_state = 2021


```python
from sklearn.model_selection import train_test_split
X = df.drop(columns={'Result_v1','color'}, axis=1).values
y = df['Result_v1'].values
train_x, train_y, val_x, val_y = train_test_split(X, y,
                                                  test_size=0.3, 
                                                  stratify=y,
                                                  random_state=2021)

```


```python

```


```python
from sklearn.model_selection import train_test_split
```


```python
X = df.iloc[:,0:len(df.columns)-1].values
y = df.iloc[:,len(df.columns)-1].values
```


```python
# train_test_split 사용
train_x, val_x, train_y, val_y = train_test_split(X, y,test_size=0.3,random_state=2021) 
```


```python
train_x.shape, val_x.shape, train_y.shape, val_y.shape
```




    ((3632, 42), (1557, 42), (3632,), (1557,))




```python

```


```python

```
